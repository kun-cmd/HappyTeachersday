<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TeachersDay</title>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="gif">
    </div>
    <div class="pop-up">
      <div id="wrapper">
        <div class="envelope open">
          <div class="flap front"></div>
          <div class="flap top"></div>
          <div class="letter"></div>
        </div>
        <!-- æ”¶ä»¶äººæ˜¾ç¤ºåŒºåŸŸï¼šåœ¨ä¿¡å°ä¸‹æ–¹æ˜¾ç¤ºâ€œTo {teacherName}â€ã€‚
             é€šè¿‡ä¸‹æ–¹è„šæœ¬ä» URL æŸ¥è¯¢å‚æ•° teacher/name è¯»å–å¹¶å¡«å……ã€‚
             ä¿æŒç»“æ„ç®€å•ï¼Œä¾¿äºåç»­æ‰©å±•æ ·å¼æˆ–äº¤äº’ã€‚ -->
        <div id="recipient" class="recipient" aria-live="polite"></div>
      </div>
    </div>
    <div class="book">
      <div class="book-first"></div>
    </div>

    <script src="./confetti.js"></script>
    <script>
      const startit = () => {
        setTimeout(function () {
          confetti.start();
        }, 2000);
      };

      const stopit = () => {
        setTimeout(function () {
          confetti.stop();
        }, 7000);
      };

      startit();
      stopit();

      // ä» URL è§£ææ•™å¸ˆå§“åå¹¶æ˜¾ç¤ºåœ¨ä¿¡å°ä¸‹æ–¹
      // è®¾è®¡ç›®æ ‡ï¼šç®€å•ã€å¯æ‰©å±•ã€å¯è¯»ã€‚è‹¥æœªæ¥æ¥å…¥å¤šè¯­è¨€æˆ–æ¨¡æ¿ï¼Œåªéœ€æ›¿æ¢æ–‡æ¡ˆä¸å‚æ•°åæ˜ å°„ã€‚
      (function () {
        // å·¥å…·å‡½æ•°ï¼šå®‰å…¨è§£ææŸ¥è¯¢å‚æ•°
        function getQueryParam(key) {
          const params = new URLSearchParams(window.location.search);
          return params.get(key);
        }

        // å…¼å®¹ä¸¤ç§å‚æ•°åï¼š?teacher= æˆ– ?name=
        const nameRaw = getQueryParam('teacher') || getQueryParam('name') || '';
        // è§£ç ï¼šå¤„ç† + ä¸ºç©ºæ ¼ä¸ URL ç¼–ç ï¼›å†åš trimï¼Œé¿å…å‰åç©ºæ ¼
        const teacherName = nameRaw ? decodeURIComponent(nameRaw.replace(/\+/g, ' ')).trim() : '';

        // å†™å…¥ DOMï¼šä»…ä½¿ç”¨ textContentï¼Œé˜²æ­¢ XSSï¼›æ— å§“åæ—¶ä½¿ç”¨é»˜è®¤æ–‡æ¡ˆ
        const recipientEl = document.getElementById('recipient');
        if (recipientEl) {
          const finalText = teacherName ? `To ${teacherName}` : 'To Teacher';
          recipientEl.textContent = finalText;
        }
      })();
    </script>
    <div>
      <marquee
        width="100%"
        scrolldelay="60"
        direction="right"
        height="30px"
        class="top"
      >
        ğŸ˜„â¤ï¸ğŸ‘¨â€ğŸ«â›µï¸ğŸ˜â—¾â—½â–ªğŸš²ğŸšƒğŸ•‰ğŸ˜ğŸ¤´ğŸˆğŸ‡âš½ğŸ§¿ğŸŸ§ğŸŸªğŸŸ«â¬›ğŸª€ğŸ•ğŸšğŸ»ğŸ¥¥ğŸ‡ğŸ€ğŸ›´â›´â¤ğŸ’¦âœ´ğŸ’¯âš â™»ğŸŸ¨ğŸŸ©ğŸŸ¦ğŸ“¶ğŸ”˜ğŸ”¹ğŸ•ğŸ•§ğŸ„ğŸ¡ğŸ¦—ğŸ™â€â™‚ï¸ğŸ‡ğŸ’ªğŸ™ŒâœğŸ’…ğŸ¡ğŸğŸ¯ğŸ†ğŸ¥ˆâ™£ğŸ–ğŸ”©ğŸ¥‡ğŸğŸµğŸŒ¹ğŸŒ»ğŸš©ğŸ³â€ğŸŒˆâ›ªğŸŒ‡ğŸŒ¦ğŸŒ•ğŸŒˆğŸŒŠâš¡ğŸ’¥â˜¢ğŸ†—â°ğŸ’²Â®âšªğŸŸ¥â¬œâ—¼â—»â–«ğŸ”¶ğŸ”¶
      </marquee>
      <marquee width="100%" direction="right" height="30px" class="bottom">
        ğŸ˜„â¤ï¸ğŸ‘¨â€ğŸ«â›µï¸ğŸ˜â—¾â—½â–ªğŸš²ğŸšƒğŸ•‰ğŸ˜ğŸ¤´ğŸˆğŸ‡âš½ğŸ§¿ğŸŸ§ğŸŸªğŸŸ«â¬›ğŸª€ğŸ•ğŸšğŸ»ğŸ¥¥ğŸ‡ğŸ€ğŸ›´â›´â¤ğŸ’¦âœ´ğŸ’¯âš â™»ğŸŸ¨ğŸŸ©ğŸŸ¦ğŸ“¶ğŸ”˜ğŸ”¹ğŸ•ğŸ•§ğŸ„ğŸ¡ğŸ¦—ğŸ™â€â™‚ï¸ğŸ‡ğŸ’ªğŸ™ŒâœğŸ’…ğŸ¡ğŸğŸ¯ğŸ†ğŸ¥ˆâ™£ğŸ–ğŸ”©ğŸ¥‡ğŸğŸµğŸŒ¹ğŸŒ»ğŸš©ğŸ³â€ğŸŒˆâ›ªğŸŒ‡ğŸŒ¦ğŸŒ•ğŸŒˆğŸŒŠâš¡ğŸ’¥â˜¢ğŸ†—â°ğŸ’²Â®âšªğŸŸ¥â¬œâ—¼â—»â–«ğŸ”¶ğŸ”¶
      </marquee>
    </div>
    
    <div class="let">
      <div class="happy">
        <h1>
          <span>H</span>
          <span>A</span>
          <span>P</span>
          <span>P</span>
          <span>Y</span>
        </h1>
      </div>
      <div class="happy">
        <h1 >
          <span>T</span>
          <span>E</span>
          <span>A</span>
          <span>C</span>
          <span>H</span>
          <span>E</span>
          <span>R</span>
          <span>S</span>
        </h1>
      </div>
      <div class="happy">
        <h1 >
          <span>D</span>
          <span>A</span>
          <span>Y</span>
        </h1>
      </div>
    </div>
    <!-- å›ºå®šåœ¨å³ä¸‹è§’çš„ç½²åæ ‡ç­¾ï¼›ä½¿ç”¨ position: fixed ä¿è¯åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸æ»šåŠ¨ä¸‹å§‹ç»ˆå¯è§ -->
    <div class="credit" role="contentinfo" aria-label="author">by Kevin KUNKUN</div>
  </body>
</html>

